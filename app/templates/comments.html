{% extends "base.html" %}

{% block title %}Comments Management{% endblock %}

{% block content %}
<div class="container">
    <h1>Comments Management</h1>

    <div style="display: grid; grid-template-columns: 1fr 2fr; gap: 2rem;">
        <div>
            <h3>Create Comment</h3>
            <form hx-post="/comments" hx-target="#comments-list" hx-on::after-request="this.reset()">
                <div class="form-group">
                    <label>Comment Text:</label>
                    <textarea name="text" class="form-control" rows="4" required></textarea>
                </div>
                <div class="form-group">
                    <label>News ID:</label>
                    <input type="number" name="news_id" class="form-control" required>
                </div>
                <div class="form-group">
                    <label>Author ID:</label>
                    <input type="number" name="author_id" class="form-control" required>
                </div>
                <button type="submit" class="btn btn-primary">Create Comment</button>
            </form>
        </div>

        <div>
            <h3>Comments List</h3>
            <div id="comments-list" hx-get="/api/comments" hx-trigger="load">
                <div class="loading">Loading comments...</div>
            </div>
        </div>
    </div>
</div>
{% endblock %}
